# safe-find

`find` ã¨ `fd` ã‚³ãƒãƒ³ãƒ‰ã®å±é™ºãªå®Ÿè¡Œã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ãƒ–ãƒ­ãƒƒã‚¯ã™ã‚‹å®‰å…¨ãªãƒ©ãƒƒãƒ‘ãƒ¼ã§ã™ã€‚

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

```bash
# ä¸¡æ–¹ã®ãƒ„ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
deno install -g --allow-run jsr:@masinc/safe-find/safe-find
deno install -g --allow-run jsr:@masinc/safe-find/safe-fd

# é€šå¸¸ã®find/fdã‚³ãƒãƒ³ãƒ‰ã¨åŒã˜ã‚ˆã†ã«ä½¿ç”¨
safe-find . -name "*.txt" -type f
safe-fd "*.js"
```

## ğŸ”’ ãªãœsafe-findãŒå¿…è¦ï¼Ÿ

æ¨™æº–ã® `find` ã¨ `fd`
ã‚³ãƒãƒ³ãƒ‰ã«ã¯ã€ä»»æ„ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã§ãã‚‹å¼·åŠ›ã ãŒå±é™ºãªã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒã‚ã‚Šã¾ã™ï¼š

```bash
# âš ï¸ å±é™º - ä»»æ„ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œå¯èƒ½
find . -name "*.tmp" -exec rm {} \;
fd "*.tmp" -x rm

# âœ… å®‰å…¨ - å±é™ºãªã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã‚‹
safe-find . -name "*.tmp" -delete  # âŒ ãƒ–ãƒ­ãƒƒã‚¯
safe-fd "*.tmp" -x rm              # âŒ ãƒ–ãƒ­ãƒƒã‚¯
```

## ğŸ›¡ï¸ ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³

### safe-findãŒãƒ–ãƒ­ãƒƒã‚¯ã™ã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼š

- `-exec` - ä»»æ„ã®ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ
- `-execdir` - ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ
- `-ok` - å¯¾è©±çš„ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ
- `-okdir` - ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§å¯¾è©±çš„ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ
- `-delete` - ãƒãƒƒãƒã—ãŸãƒ•ã‚¡ã‚¤ãƒ«/ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å‰Šé™¤

### safe-fdãŒãƒ–ãƒ­ãƒƒã‚¯ã™ã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼š

- `-x`, `--exec` - ä»»æ„ã®ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ
- `-X`, `--exec-batch` - ãƒãƒƒãƒã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ
- `-l`, `--list-details` - å†…éƒ¨ã§`ls`ã‚’ä½¿ç”¨ï¼ˆæ½œåœ¨çš„ãƒªã‚¹ã‚¯ï¼‰

## ğŸ“¦ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### å‰ææ¡ä»¶

- [Deno](https://deno.land/) 2.x ä»¥é™

### JSRã‹ã‚‰ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# safe-findã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
deno install -g --allow-run jsr:@masinc/safe-find/safe-find

# safe-fdã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
deno install -g --allow-run jsr:@masinc/safe-find/safe-fd
```

## ğŸ”§ ä½¿ç”¨æ–¹æ³•

### safe-find

ã™ã¹ã¦ã®å®‰å…¨ãª `find` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯å…¨ãåŒã˜ã‚ˆã†ã«å‹•ä½œã—ã¾ã™ï¼š

```bash
# TypeScriptãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œç´¢
safe-find . -name "*.ts" -type f

# å¤§ããªãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œç´¢
safe-find /var/log -name "*.log" -size +10M

# æœ€è¿‘å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œç´¢
safe-find . -mtime -7 -type f

# è¤‡é›‘ãªæ¤œç´¢
safe-find . \( -name "*.js" -o -name "*.ts" \) -not -path "*/node_modules/*"
```

### safe-fd

ã™ã¹ã¦ã®å®‰å…¨ãª `fd` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯å…¨ãåŒã˜ã‚ˆã†ã«å‹•ä½œã—ã¾ã™ï¼š

```bash
# JavaScriptãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œç´¢
safe-fd "*.js"

# globãƒ‘ã‚¿ãƒ¼ãƒ³ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œç´¢
safe-fd --glob "*.ts" --type f

# ç‰¹å®šã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§æ¤œç´¢
safe-fd "README" /home

# å¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥ã—ãªã„æ¤œç´¢
safe-fd --ignore-case "readme"
```

## âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

safe-findã¨safe-fdã¯æœ€å°é™ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ã—ã‹è¿½åŠ ã—ã¾ã›ã‚“ï¼š

- å¼•æ•°è§£æ: ~1ms
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°: ~1ms
- å…ƒã®ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ: ãƒã‚¤ãƒ†ã‚£ãƒ–ã¨åŒã˜

## ğŸ§ª å‡ºåŠ›ä¾‹

```bash
$ safe-find . -exec echo "test" \;
Error: Dangerous option '-exec' is not allowed for security reasons

$ safe-fd "*.js" -x rm
Error: Dangerous option '-x' is not allowed for security reasons

$ safe-find . -name "*.md" -type f
./README.md
./README.ja.md
./CLAUDE.md
```

## ğŸ› ï¸ é–‹ç™º

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/masinc/safe-find.git
cd safe-find

# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
deno task test

# çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
deno task test:integration

# å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
deno task test:all

# ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒ†ã‚¹ãƒˆ
deno run --allow-run safe-find.ts . -name "*.ts"
deno run --allow-run safe-fd.ts "*.md"
```

## ğŸ“š ä½¿ç”¨ä¾‹

- **CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³**: è‡ªå‹•åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã®å¶ç™ºçš„ãªã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œã‚’é˜²æ­¢
- **å…±æœ‰ã‚µãƒ¼ãƒãƒ¼**: å®Ÿè¡Œãƒªã‚¹ã‚¯ãªã—ã§ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢ã‚’è¨±å¯
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é‡è¦–ã®ç’°å¢ƒ**: find/fdæ©Ÿèƒ½ã‚’ç¶­æŒã—ãªãŒã‚‰å±é™ºãªæ“ä½œã‚’ãƒ–ãƒ­ãƒƒã‚¯
- **æ•™è‚²ç’°å¢ƒ**: å®Ÿè¡Œãƒªã‚¹ã‚¯ãªã—ã§find/fdã‚’å®‰å…¨ã«å­¦ç¿’

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹

## ğŸ”— ãƒªãƒ³ã‚¯

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒªãƒ³ã‚¯

- [JSRãƒ‘ãƒƒã‚±ãƒ¼ã‚¸](https://jsr.io/@masinc/safe-find)
- [GitHubãƒªãƒã‚¸ãƒˆãƒª](https://github.com/masinc/safe-find)
- [Issuesãƒ»ãƒã‚°ãƒ¬ãƒãƒ¼ãƒˆ](https://github.com/masinc/safe-find/issues)

### å…ƒã®ã‚³ãƒãƒ³ãƒ‰

- [findã‚³ãƒãƒ³ãƒ‰](https://www.gnu.org/software/findutils/manual/html_mono/find.html) -
  GNU findutilsãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [fdã‚³ãƒãƒ³ãƒ‰](https://github.com/sharkdp/fd) -
  findã®ã‚·ãƒ³ãƒ—ãƒ«ã§é«˜é€Ÿãªãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªä»£æ›¿

## â­ ã‚µãƒãƒ¼ãƒˆã‚’è¡¨ç¤º

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒfind/fdã‚³ãƒãƒ³ãƒ‰ã‚’å®‰å…¨ã«ä½¿ç”¨ã™ã‚‹ã®ã«å½¹ç«‹ã£ãŸå ´åˆã¯ã€â­ï¸ã‚’ãŠé¡˜ã„ã—ã¾ã™ï¼
